<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>客户列表页</title>
    <!--layui插件导入-->
    <link rel="stylesheet" href="../../plugins/layui/css/layui.css">

    <script src="../../plugins/jquery.js"></script>
    <!--导入自己的插件 -->
    <script src="../../js/my_base_js.js"></script>
</head>
<body>
<table class="layui-hide" id="customers" lay-filter="customer"></table>
<script type="text/html" id="barTools">
    <a class="layui-btn layui-btn-xs layui-btn-primary" lay-event="detail">查询</a>
    <a class="layui-btn layui-btn-xs" lay-event="edit">编辑</a>
    <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a>
</script>

<script type="text/html" id="toolBar">
    <a class="layui-btn layui-btn-xs">添加</a>
    <a class="layui-btn layui-btn-danger layui-btn-xs">删除</a>
</script>

<script src="../../plugins/layui/layui.js"></script>
<script>
layui.use('table',function () {
    var table=layui.table;
    table.render({
        id:"customer_table",
        elem:"#customers",
        cellMinWidth:180,
        height:590,
        method:"get",
        url:WEBURL_API+'backstage/customer',
        page:true,
        toolbar:"#toolBar",
        cols:[[
            {type:"checkbox",fixed:"left"},
            {field:'id',title:'序号',width:80,align:'center',sort:true,type:'numbers'},
            {field:'company',title:'公司名称',align:'center' ,width:'180'},
            {field:'address',title:'公司地址',align:'center' ,width:'180'},
            {field:'estime',title:'成立时间',align:'center' ,width:'180'},
            {field:'legal_person',title:'法人',align:'center' ,width:'180'},
            {field:'contacts',title:'联系人',align:'center' ,width:'180'},
            {field:'phone',title:'联系电话',align:'center' ,width:'180'},
            {field:'phone',title:'客户负责人',align:'center' ,width:'180'},
            {field:'connumber',title:'签订合同',align:'center',width:'180',templet:addLink},
            {fixed:'right',title:'操作',align:'center',toolbar:"#barTools",width:'220'}
        ]]
    })


})
</script>
<script>
    function addLink(d) {
        var addLink=d.connumber;
        if (''==addLink || null==addLink|| undefined==addLink){
            return '';
        }
        if (addLink.length>0) {
            return '<a class="layui-table-link" href="javascript:void(0);" lay-event="link">'+d.connumber+'</a>'
        }
    }
</script>
</body>
</html>